<!doctype html><html class=no-js lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Postgresql</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta name=generator content="Hugo 0.152.2"><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=alternate type=application/rss+xml href=/tags/postgresql/index.xml title=补漏砖匠><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/quiz.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class=container><div class=logo><a class=logo__link href=/ title=补漏砖匠 rel=home><div class=logo__title>补漏砖匠</div><div class=logo__tagline>独钓寒江雪，为有暗香来。</div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87-DeepSeek%E6%B5%81%E5%BC%8F%E8%81%8A%E5%A4%A9/>DeepSeek</a></li><li class=menu__item><a class=menu__link href=/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-AI%E5%9C%A8%E7%BA%BF%E6%B5%8B%E8%AF%95/>JAVA在线测试</a></li><li class=menu__item><a class=menu__link href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/>后端架构</a></li><li class=menu__item><a class=menu__link href=/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87/%E5%B7%A5%E5%85%B7%E6%95%88%E7%8E%87-%E6%B3%95%E5%AE%9D%E7%AF%87/>工具效率</a></li><li class=menu__item><a class=menu__link href=/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3-%E5%85%B8%E7%B1%8D%E7%AF%87/>开源文档</a></li><li class=menu__item><a class=menu__link href=/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A3%8B%E8%B0%B1%E7%AF%87/>算法数据结构</a></li><li class=menu__item><a class=menu__link href=/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-%E5%89%91%E6%B3%95%E7%AF%87/>编程语言</a></li><li class=menu__item><a class=menu__link href=/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2-%E6%9C%BA%E5%85%B3%E7%AF%87/>运维部署</a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class="main list" role=main><header class=main__header><h1 class=main__title>Postgresql</h1></header><article class="list__item post"><header class=list__header><h3 class="list__title post__title"><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%AE%89%E8%A3%85/ rel=bookmark>典籍篇</a></h3><p class="list__lead post__lead">聚社区之智，传技术之火</p><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 16 16"><path d="m8-3e-7c-4.4.0-8 3.6-8 8C0 12.4 3.6 16 8 16s8-3.6 8-8.0000003c0-4.4-3.6-8-8-8zM8 14.4c-3.52.0-6.4-2.88-6.4-6.4000003.0-3.52 2.88-6.4 6.4-6.4s6.4 2.88 6.4 6.4C14.4 11.52 11.52 14.4 8 14.4zm.4-10.4000003H7.2v4.8L11.36 11.36l.64-1.04-3.6-2.1600003z"/></svg>
<time class=meta__text datetime=2025-11-27T00:00:00>November 27, 2025</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg>
<span class=meta__text><a class=meta__link href=/categories/%e5%bc%80%e6%ba%90%e6%96%87%e6%a1%a3 rel=category>开源文档</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><p><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/>◀ 返回</a></p><h3 id=postgresql-安装>PostgreSQL 安装</h3><h4 id=创建用户与环境配置>创建用户与环境配置</h4><ol><li>创建用户</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>groupadd postgres
</span></span><span style=display:flex><span>useradd -g postgres postgres
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>环境变量配置<span style=color:#f92672>(</span>.bash_profile<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export PGPORT<span style=color:#f92672>=</span><span style=color:#ae81ff>5433</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export PG_HOME<span style=color:#f92672>=</span>/usr/local/pg16.2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export PATH<span style=color:#f92672>=</span>$PG_HOME/bin:$PATH
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export PGDATA<span style=color:#f92672>=</span>$PG_HOME/data
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export LD_LIBRARY_PATH<span style=color:#f92672>=</span>$PG_HOME/lib
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export LANG<span style=color:#f92672>=</span>en_US.utf8
</span></span></code></pre></div><ol start=2><li>内核参数配置</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>vi /etc/sysctl.conf
</span></span><span style=display:flex><span><span style=color:#75715e>#最大共享内存段大小</span>
</span></span><span style=display:flex><span>kernel.shmmax <span style=color:#f92672>=</span> 68719476736<span style=color:#f92672>(</span>默认<span style=color:#f92672>)</span> 
</span></span><span style=display:flex><span> <span style=color:#75715e>#可以使用的共享内存的总量</span>
</span></span><span style=display:flex><span>kernel.shmall <span style=color:#f92672>=</span> 4294967296<span style=color:#f92672>(</span>默认<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#整个系统共享内存段的最大数目</span>
</span></span><span style=display:flex><span>kernel.shmmni <span style=color:#f92672>=</span> <span style=color:#ae81ff>4096</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#每个信号对象集的最大信号对象数</span>
</span></span><span style=display:flex><span>kernel.sem <span style=color:#f92672>=</span> <span style=color:#ae81ff>50100</span> <span style=color:#ae81ff>64128000</span> <span style=color:#ae81ff>50100</span> <span style=color:#ae81ff>1280</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#文件句柄的最大数量。</span>
</span></span><span style=display:flex><span>fs.file-max <span style=color:#f92672>=</span> <span style=color:#ae81ff>7672460</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#应用程序可使用的IPv4端口范围</span>
</span></span><span style=display:flex><span>net.ipv4.ip_local_port_range <span style=color:#f92672>=</span> <span style=color:#ae81ff>9000</span> <span style=color:#ae81ff>65000</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#套接字接收缓冲区大小的缺省值</span>
</span></span><span style=display:flex><span>net.core.rmem_default <span style=color:#f92672>=</span> <span style=color:#ae81ff>1048576</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>#套接字发送缓冲区大小的缺省</span>
</span></span><span style=display:flex><span>net.core.wmem_default <span style=color:#f92672>=</span> <span style=color:#ae81ff>262144</span> 值
</span></span><span style=display:flex><span><span style=color:#75715e>#套接字发送缓冲区大小的最大值</span>
</span></span><span style=display:flex><span>net.core.wmem_max <span style=color:#f92672>=</span> <span style=color:#ae81ff>1048576</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># sysctl -p #配置生效</span>
</span></span></code></pre></div><ol start=3><li>centos7 源码安装</li></ol><ul><li><p><a href=https://www.postgresql.org/ftp/source/>下载</a></p></li><li><p>依赖包检查</p></li></ul><blockquote><p><strong>最小依赖</strong>：<em>gcc、gcc-c++、zlib-devel、readline-devel</em></p></blockquote><blockquote><p><strong>其他依赖</strong>：<em>perl-ExtUtils-Embed、pam-devel、libxml2-devel、libxslt-devel、openldap-devel、python-devel、openssl-devel、cmake</em></p></blockquote><ul><li>安装</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ su - postgres
</span></span><span style=display:flex><span>$ cd /soft/postgresql-16.2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ ./configure --prefix<span style=color:#f92672>=</span>/usr/local/pg16.2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ make
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ make install
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## Configure常用配置选项：</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## prefix：指定安装路径</span>
</span></span><span style=display:flex><span><span style=color:#75715e>## with-openssl：对openssl进行扩展支持</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## with-python：对python进行扩展支持</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## with-perl：对perl进行扩展支持</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## with-libxml：对xml进行扩展支持</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>./configure --prefix<span style=color:#f92672>=</span>/usr/local/pg16.2 --with-pgport<span style=color:#f92672>=</span><span style=color:#ae81ff>1922</span> --with-openssl --with-perl --with-tcl --with-python --with-pam --without-ldap --with-libxml --with-libxslt --enable-thread-safety --with-wal-blocksize<span style=color:#f92672>=</span><span style=color:#ae81ff>16</span> --with-blocksize<span style=color:#f92672>=</span><span style=color:#ae81ff>8</span> --enable-dtrace --enable-debug
</span></span><span style=display:flex><span>--with-blocksize
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 如果数据库需要经常做插入的操作，数据量增长非常快，尽量把此参数设大一点;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 经常做小数据查询、更新且内存不是非常大的时候可以设小一点，默认8K即可。</span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 生产环境不要加--enable-dtrace --enable-debug</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## gmakeworld包括第三方插件全部编译</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## gmakecheck-world需要使用普通用户执行，可选，耗时较长</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## gmakeinstall包括第三方插件全部安装</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## gmakeworld安装包含了文档，所有的contirb</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 安装前先创建好/usr/local/pg16.6目录，同时授权postgres用户可读写权限</span>
</span></span></code></pre></div><h2 id=pg-的建库与使用>PG 的建库与使用</h2><h3 id=创建数据库集簇>创建数据库集簇</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 1. 创建目录</span>
</span></span><span style=display:flex><span>mkdir /usr/local/pg16.6/data
</span></span><span style=display:flex><span><span style=color:#75715e># 2. 初始化数据库集簇</span>
</span></span><span style=display:flex><span>initdb -D $PG_DATA -W --data-checksums 
</span></span></code></pre></div><h3 id=数据库打开和关闭>数据库打开和关闭</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 1. 启动数据库</span>
</span></span><span style=display:flex><span>pg_ctl -D $PG
</span></span><span style=display:flex><span><span style=color:#75715e># 2. 关闭数据库</span>
</span></span><span style=display:flex><span>pg_ctl -D $PG_DATA stop
</span></span><span style=display:flex><span><span style=color:#75715e># 3. 登录数据库</span>
</span></span><span style=display:flex><span>pgsql -U postgres
</span></span><span style=display:flex><span><span style=color:#75715e># 4. 退出数据哭</span>
</span></span><span style=display:flex><span>&gt;<span style=color:#ae81ff>\q</span>
</span></span></code></pre></div><h3 id=数据库的使用>数据库的使用</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># 1. 查看帮助</span>
</span></span><span style=display:flex><span>&gt;help
</span></span><span style=display:flex><span><span style=color:#75715e># 2. 执行 pgsql 命令</span>
</span></span><span style=display:flex><span>&gt;<span style=color:#ae81ff>\l</span>
</span></span><span style=display:flex><span>&gt;select * from tab_name;
</span></span></code></pre></div><h2 id=pg的实例>PG的实例</h2><p><img src=/images/Postgresql%E5%AE%89%E8%A3%85%E5%9B%BE1.png alt="PG 实例"></p></div></article><article class="list__item post"><header class=list__header><h3 class="list__title post__title"><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84/ rel=bookmark>典籍篇</a></h3><p class="list__lead post__lead">聚社区之智，传技术之火</p><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 16 16"><path d="m8-3e-7c-4.4.0-8 3.6-8 8C0 12.4 3.6 16 8 16s8-3.6 8-8.0000003c0-4.4-3.6-8-8-8zM8 14.4c-3.52.0-6.4-2.88-6.4-6.4000003.0-3.52 2.88-6.4 6.4-6.4s6.4 2.88 6.4 6.4C14.4 11.52 11.52 14.4 8 14.4zm.4-10.4000003H7.2v4.8L11.36 11.36l.64-1.04-3.6-2.1600003z"/></svg>
<time class=meta__text datetime=2025-11-27T00:00:00>November 27, 2025</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg>
<span class=meta__text><a class=meta__link href=/categories/%e5%bc%80%e6%ba%90%e6%96%87%e6%a1%a3 rel=category>开源文档</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><p><a href=/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84/%E5%90%8E%E7%AB%AF%E6%9E%B6%E6%9E%84-%E5%85%B5%E6%B3%95%E7%AF%87/>◀ 返回</a></p><h2 id=postgresql-的组成结构>postgresql 的组成结构</h2><h3 id=内存>内存</h3><ul><li><p><strong>Local memory area</strong>:由每个后端进程分配给自己使用。</p></li><li><p><strong>Share memory area</strong>: 由 postgresql 服务器的所有进程使用。</p></li></ul><p><img src=https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84.png alt=postgresql-memory></p><ul><li><p><strong>work_mem</strong>: 执行器执行 <em>order by</em>、<em>distinct</em>、<em>join tables</em>、<em>hash-join</em>操作时使用。</p></li><li><p><strong>maintenance_work_mem</strong>: <em>vacuum</em> 归整、<em>reindex</em>重建索引，时使用。</p></li><li><p><strong>temp_buffers</strong>: 临时表使用。</p></li><li><p><strong>shared_buffer_pool</strong>: 从持久化的存储加载表页和索引页到此。</p></li><li><p><strong>wal_buffer</strong>: 防止服务异常停止导致数据没有落盘，创建了 wal 缓冲区，相当于 redo log。</p></li><li><p><strong>commit log</strong>: 记录所有的事务状态如:再处理，已提交、回退，保持事务的一致性。相当于 undo log。</p></li></ul><h3 id=进程>进程</h3><p><strong>PostgreSQL 采用 C/S 模式，系统为每个连接的客户端分配一个服务进程 Postgres</strong>
<img src=https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQL%E8%BF%9B%E7%A8%8B.webp alt=postgresql-process></p><p>当运行 pg_ctl 命令进入 Postgres 程序时，其进程创建流程如下:</p><h3 id=postmaster>PostMaster</h3><p><img src=https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQ%E8%BF%9B%E7%A8%8B2.webp alt=postgresql-process1></p><ul><li><strong>PostMaster</strong>：进程是整个数据库实例的总控进程，负责启动关闭该数据实例。并且在服务进程出现错误时完成系统的恢复，还要在系统奔溃的时候重启系统。它是运行在服务器上的总控进程，同时也负责整个系统范围内的操作，例如中断操作与信号处理。但是 Postmaster 本身并不执行这些操作，而是指派一个子进程在适当的时间处理它们。Postmaster 进程在起始时会创建共享内存与信号库，用于与子进程的通信，同时也能在某个子进程奔溃的时候重置共享内存即可恢复。</li></ul><p><em>Postmaster 守护进程的执行流程如下</em></p><p><img src=https://blowizer.oss-cn-beijing.aliyuncs.com/blog/%E6%95%B0%E6%8D%AE%E5%BA%93-PostgreSQ%E8%BF%9B%E7%A8%8B2.webp alt=postgres-porcess2></p><h3 id=syslogger>SysLogger</h3><ul><li><strong>SysLogger</strong>:（系统日志）进程,日志信息是数据库管理员获取数据库系统运行状态的有效手段。在数据库出现故障时，日志信息是非常有用的。把数据库日志信息集中输出到一个位置将极大方便管理员维护数据库系统。然而，日志输出将产生大量数据（特别是在比较高的调试级别上），单文件保存时不利于日志文件的操作。因此，在SysLogger的配置选项中可以设置日志文件的大小，SysLogger会在日志文件达到指定的大小时关闭当前日志文件，产生新的日志文件。</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># - Where to Log -</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>log_destination <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;stderr&#39;</span>              <span style=color:#75715e># Valid values are combinations of</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># stderr, csvlog, jsonlog, syslog, and</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># eventlog, depending on platform.</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># csvlog and jsonlog require</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># logging_collector to be on.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># This is used when logging to stderr:</span>
</span></span><span style=display:flex><span>logging_collector <span style=color:#f92672>=</span> on          <span style=color:#75715e># Enable capturing of stderr, jsonlog,</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># and csvlog into log files. Required</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># to be on for csvlogs and jsonlogs.</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># (change requires restart)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># These are only used if logging_collector is on:</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_directory = &#39;log&#39;                  # directory where log files are written,</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># can be absolute or relative to PGDATA</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_filename = &#39;postgresql-%Y-%m-%d_%H%M%S.log&#39;        # log file name pattern,</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># can include strftime() escapes</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_file_mode = 0600                   # creation mode for log files,</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># begin with 0 to use octal notation</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_rotation_age = 1d                  # Automatic rotation of logfiles will</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># happen after that time.  0 disables.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_rotation_size = 10MB               # Automatic rotation of logfiles will</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># happen after that much log output.</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># 0 disables.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#log_truncate_on_rotation = off         # If on, an existing log file with the</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># same name as the new log file will be</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># truncated rather than appended to.</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># But such truncation only occurs on</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># time-driven rotation, not on restarts</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># or size-driven rotation.  Default is</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># off, meaning append to existing files</span>
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># in all cases.</span>
</span></span></code></pre></div><blockquote><p><strong>log_destination</strong>：配置日志输出目标，根据不同的运行平台会设置不同的值，Linux下默认为stderr。</p></div></article></main></div><aside class=sidebar><div class="widget-search widget"><form class=widget-search__form role=search method=get action=https://google.com/search><label><input class=widget-search__field type=search placeholder=SEARCH... name=q aria-label=SEARCH...>
</label><input class=widget-search__submit type=submit value=Search>
<input type=hidden name=sitesearch value=/></form></div><div class="widget-recent widget"><h4 class=widget__title>Recent Posts</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/post/about/>个人简历-中文</a></li><li class=widget__item><a class=widget__link href=/post/about-en/>个人简历-英文</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/categories/%e5%85%b3%e4%ba%8e%e6%88%91>关于我</a></li><li class=widget__item><a class=widget__link href=/categories/%e5%89%8d%e7%ab%af%e5%bc%80%e5%8f%91>前端开发</a></li><li class=widget__item><a class=widget__link href=/categories/%e5%90%8e%e7%ab%af%e6%9e%b6%e6%9e%84>后端架构</a></li><li class=widget__item><a class=widget__link href=/categories/%e5%b7%a5%e5%85%b7%e6%95%88%e7%8e%87>工具效率</a></li><li class=widget__item><a class=widget__link href=/categories/%e5%bc%80%e6%ba%90%e6%96%87%e6%a1%a3>开源文档</a></li><li class=widget__item><a class=widget__link href=/categories/%e7%ae%97%e6%b3%95%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84>算法数据结构</a></li><li class=widget__item><a class=widget__link href=/categories/%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80>编程语言</a></li><li class=widget__item><a class=widget__link href=/categories/%e8%bf%90%e7%bb%b4%e9%83%a8%e7%bd%b2>运维部署</a></li></ul></div></div><div class="widget-taglist widget"><h4 class=widget__title>Tags</h4><div class=widget__content><a class="widget-taglist__link widget__link btn" href=/tags/ai title=Ai>Ai (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/c title=C>C (3)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/ci/cd title="Ci cd">Ci cd (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/deepseek title=Deepseek>Deepseek (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/even-loop title="Even loop">Even loop (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/java title=Java>Java (3)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/loadrunner title=Loadrunner>Loadrunner (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/ngrok title=Ngrok>Ngrok (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/postgresql title=Postgresql>Postgresql (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e4%ba%91%e5%8e%9f%e7%94%9f title=云原生>云原生 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f title=内网穿透>内网穿透 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%88%86%e5%b8%83%e5%bc%8f%e7%b3%bb%e7%bb%9f title=分布式系统>分布式系统 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%8a%9e%e5%85%ac%e8%bd%af%e4%bb%b6 title=办公软件>办公软件 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%ae%b9%e5%99%a8%e5%8c%96 title=容器化>容器化 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%bc%80%e5%8f%91%e5%b7%a5%e5%85%b7 title=开发工具>开发工具 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%bc%80%e6%ba%90%e5%8d%8f%e4%bd%9c title=开源协作>开源协作 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e5%be%ae%e6%9c%8d%e5%8a%a1 title=微服务>微服务 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e6%95%b0%e6%8d%ae%e5%ba%93 title=数据库>数据库 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e6%96%87%e6%a1%a3%e7%bc%96%e5%86%99 title=文档编写>文档编写 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e6%b5%8b%e8%af%95 title=测试>测试 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e6%b5%8b%e8%af%95%e5%b7%a5%e5%85%b7 title=测试工具>测试工具 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%89%88%e6%9c%ac%e7%ae%a1%e7%90%86 title=版本管理>版本管理 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%9b%91%e6%8e%a7%e6%97%a5%e5%bf%97 title=监控日志>监控日志 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%a4%ba%e4%be%8b title=示例>示例 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%a4%be%e5%8c%ba%e5%bb%ba%e8%ae%be title=社区建设>社区建设 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%ad%94%e9%a2%98%e7%b3%bb%e7%bb%9f title=答题系统>答题系统 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%ae%80%e5%8e%86 title=简历>简历 (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%ae%97%e6%b3%95%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84 title=算法数据结构>算法数据结构 (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80 title=编程语言>编程语言 (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e7%bd%91%e7%bb%9c%e9%9a%a7%e9%81%93 title=网络隧道>网络隧道 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e8%8b%b1%e8%af%ad%e8%af%ad%e6%b3%95 title=英语语法>英语语法 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f title=设计模式>设计模式 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e8%b7%af%e7%ba%bf%e8%a7%84%e5%88%92 title=路线规划>路线规划 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e9%9d%a2%e8%af%95%e9%a2%98 title=面试题>面试题 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%e9%ab%98%e5%b9%b6%e5%8f%91 title=高并发>高并发 (1)</a></div></div><div class="widget-social widget"><h4 class="widget-social__title widget__title">Social</h4><div class="widget-social__content widget__content"><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=GitHub rel="noopener noreferrer" href=https://github.com/blowizer target=_blank><svg class="widget-social__link-icon icon-github" viewBox="0 0 384 374" width="24" height="24" fill="#fff"><path d="m192 0C85.9.0.0 85.8.0 191.7c0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2.0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8.0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7.0.0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4.0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5.0 25.6-.2 46.3-.2 52.6.0 5.1 3.5 11.1 13.2 9.2C329 348.2 384 276.4 384 191.7 384 85.8 298 0 192 0z"/></svg>
<span>GitHub</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=Email href=mailto:blowizer@qq.com><svg class="widget-social__link-icon icon-mail" viewBox="0 0 416 288" width="24" height="24" fill="#fff"><path d="m0 16v256 16h16 384 16v-16V16 0h-16H16 0zm347 16-139 92.5L69 32zM199 157.5l9 5.5 9-5.5L384 46v210H32V46z"/></svg>
<span>blowizer@qq.com</span></a></div></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__links><a class=footer__link href=/post/about/>个人简历-中文</a> | <a class=footer__link href=/post/about-en/>个人简历-英文</a></div><div class=footer__copyright>&copy; 2025 补漏砖匠.
<span class=footer__copyright-credits><a href=# rel="nofollow noopener" target=_blank>左键右鼠运阴阳，挖山填海码几行。</a> <a href=# rel="nofollow noopener" target=_blank>人海浮沉皆过客，我是人间补漏匠。</a></span></div></div></footer></div><script async defer src=/js/menu.js></script><script src=/js/quiz.js></script><script src=/js/ai-quiz.js></script></body></html>